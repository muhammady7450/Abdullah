<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>8171 ویب پورٹل</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'Alvi Nastaleeq Regular';
            src: url('fonts/MehrNastaliqWebRegular.ttf');
        }
        
        * {
            font-family: 'Alvi Nastaleeq Regular', Arial, sans-serif;
        }
        
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }
        
        .main-content {
            flex: 1;
            padding: 20px 0;
        }
        
        .footer {
            background-color: black;
            color: white;
            text-align: center;
            padding: 15px;
            margin-top: auto;
            width: 100%;
        }
        
        .banner-img {
            width: 100%;
            max-height: 200px;
            object-fit: cover;
        }
        
        .nav-custom {
            background-color: #000;
            font-size: larger;
        }
        
        .navbar-toggler {
            border-color: white;
        }
        
        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='white' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
        }
    </style>
</head>
<body>
    <!-- بینر -->
    <div class="container-fluid p-0">
        <div class="row">
            <div class="col-12 text-center">
                <img src="bisp.png" alt="BISP Banner" class="banner-img">
            </div>
        </div>
    </div>

    <!-- نیویگیشن با toggle button -->
    <nav class="navbar navbar-expand-lg navbar-dark nav-custom">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#myNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">اہلیت کے بارے میں جانیۓ</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- مین کونٹینٹ -->
    <div class="main-content">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <h3 class="text-center text-success mb-4">اپنے گھرانے کی اہلیت کے بارے میں جانیۓ</h3>
                    
                    <div class="card border-primary">
                        <div class="card-body">
                            <!-- CNIC ان پٹ -->
                            <div class="row mb-3">
                                <div class="col-12">
                                    <h4 class="text-end">شناختی کارڈ نمبر<span class="text-danger">*</span></h4>
                                    <input type="text" id="txtCNIC" class="form-control form-control-lg" maxlength="13" 
                                           placeholder="1234567890123" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                                </div>
                            </div>

                            <!-- کیپچا -->
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <div class="captcha-box bg-light border p-3 text-center">
                                        <span id="captchaText" style="font-size: 24px; font-weight: bold; letter-spacing: 5px;">ABCD123</span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h4 class="text-end">تصویر میں دیا گیا کوڈ<span class="text-danger">*</span></h4>
                                    <input type="text" id="txtCaptcha" class="form-control" maxlength="10">
                                </div>
                            </div>

                            <!-- سبمٹ بٹن -->
                            <div class="row">
                                <div class="col-12 text-center">
                                    <button class="btn btn-success btn-lg" onclick="checkEligibility()">معلوم کریں</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- فوٹر -->
    <footer class="footer">
        حقوق نقل و اشاعت ۲۰۲۵ بے نظیر انکم سپورٹ پروگرام۔ جملہ حقوق محفوظ ہیں۔
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // eligible CNIC نمبرز کی لسٹ (ٹھیک کی ہوئی)
        const eligibleCNICs = [
            '4420574031504',
            '4420531781658',
            '4420508576450',
            '4540406644430',
            '4540406841770',
            '45404058887346',
            '4540407135244',
            '4540406210112',
            '4540257087644',
            '4540206818978',
            
            // New numbers added below
            '4540405427277',
            '4540405412506',
            '4540406542646',
            '4540409701994',
            '4540405755626',
            '4540406642798',
            '4540405694680',
            '4540406208678',
            '4540406928046',
            '4540406474290',
            '4540404675482',
            '4540405958124',  // یہاں , تھا جو ; ہو گیا تھا
            '4540406928046',
            '4540406474290',
            '4540406928046',
            '4540406474290'
        ];

        // کیپچا جنریٹ کرنا
        function generateCaptcha() {
            const chars = '0123456789';
            let captcha = '';
            for (let i = 0; i < 4; i++) {
                captcha += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            document.getElementById('captchaText').textContent = captcha;
            return captcha;
        }

        // ابتدائی کیپچا
        let currentCaptcha = generateCaptcha();

        // اہلیت چیک کرنا
        function checkEligibility() {
            const cnic = document.getElementById('txtCNIC').value;
            const captchaInput = document.getElementById('txtCaptcha').value;

            // ویلیڈیشن
            if (!cnic || cnic.length !== 13) {
                alert('براہ کرم درست شناختی کارڈ نمبر درج کریں (13 ہندسے)');
                return;
            }

            if (!captchaInput) {
                alert('براہ کرم کیپچا کوڈ درج کریں');
                return;
            }

            if (captchaInput !== currentCaptcha) {
                alert('کیپچا کوڈ غلط ہے');
                currentCaptcha = generateCaptcha();
                return;
            }

            // CNIC لسٹ میں چیک کریں
            if (eligibleCNICs.includes(cnic)) {
                // اگر CNIC لسٹ میں ہے تو رزلٹ صفحہ پر بھیجیں
                window.location.href = `result.html?cnic=${cnic}`;
            } else {
                // اگر CNIC لسٹ میں نہیں ہے تو not eligible صفحہ پر بھیجیں
                window.location.href = `notmatch.html?cnic=${cnic}`;
            }
        }

        // CNIC ویلیڈیشن
        document.getElementById('txtCNIC').addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
            if (this.value.length > 13) {
                this.value = this.value.slice(0, 13);
            }
        });
    </script>
</body>
</html>